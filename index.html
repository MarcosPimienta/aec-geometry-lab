<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AEC Geometry Lab — Raw WebGL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      html, body { margin:0; height:100%; font-family: system-ui, sans-serif; }
      #app { display: grid; grid-template-columns: 280px 1fr; height: 100%; }
      aside { border-right: 1px solid #ddd; padding: 12px; overflow: auto; }
      canvas { display:block; width:100%; height:100%; }
      .row { margin-bottom: 8px; }
      label { display:block; font-size: 12px; color:#444; }
      input[type="range"] { width: 100%; }
      pre { white-space: pre-wrap; font-size: 12px; background:#f7f7f7; padding:8px; border-radius:6px;}
      button { margin-right: 6px; }
    </style>
  </head>
  <body>
    <div id="app">
      <aside>
        <h3>IFC</h3>
        <div class="row"><input type="file" id="ifcFile" accept=".ifc" /></div>
        <div class="row"><button id="exportGltf">Export glTF (extras)</button></div>
        <div class="row"><pre id="ifcProps">Select an element...</pre></div>

        <h3>OBJ</h3>
        <div class="row"><input type="file" id="objFile" accept=".obj" /></div>
        <div class="row">
          <button id="edgeFlip">Edge Flip</button>
          <button id="edgeSplit">Edge Split</button>
          <label><input type="checkbox" id="wire" /> Wireframe</label>
          <label><input type="checkbox" id="valence" /> Valence Heatmap</label>
        </div>

        <h3>Parametric Façade</h3>
        <div class="row">
          <label>Panel Width <span id="pwVal">1.2</span> m</label>
          <input type="range" id="panelW" min="0.5" max="3" step="0.1" value="1.2" />
        </div>
        <div class="row">
          <label>Panel Height <span id="phVal">2.4</span> m</label>
          <input type="range" id="panelH" min="1" max="4" step="0.1" value="2.4" />
        </div>
        <div class="row">
          <label>Mullion Thickness <span id="mtVal">0.1</span> m</label>
          <input type="range" id="mullion" min="0.05" max="0.3" step="0.01" value="0.1" />
        </div>
        <div class="row">
          <label>Window Ratio <span id="wrVal">0.6</span></label>
          <input type="range" id="winRatio" min="0.2" max="0.9" step="0.05" value="0.6" />
        </div>
        <div class="row"><button id="buildFacade">Build (snap)</button></div>

        <h3>Shader Uniform</h3>
        <div class="row">
          <label>Morph <span id="morphVal">0.0</span></label>
          <input type="range" id="morph" min="0" max="1" step="0.01" value="0" />
        </div>
      </aside>
      <canvas id="gl"></canvas>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>